(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,a){e.exports=a(68)},68:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(3),l=a(5),o=a(4),c=a(1),s=a(6),i=a(0),u=a.n(i),h=a(14),m=a.n(h),d=a(19),b=a(7),g=a(16),p=a(38),f=a.n(p).a.create({baseURL:"/"}),E=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).state={notes:[]},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.get("/notes",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){e.setState(function(){return{notes:t.data}})})}},{key:"render",value:function(){return u.a.createElement("div",{className:"container "},u.a.createElement("h2",{className:"text-primary"}," Notes "),u.a.createElement("ul",null,this.state.notes.map(function(e){return u.a.createElement("li",{key:e._id},u.a.createElement(b.b,{to:"/notes/".concat(e._id)},u.a.createElement("h3",null,e.title)))})))}}]),t}(u.a.Component),v=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).state={note:{}},a.handleRemove=a.handleRemove.bind(Object(c.a)(a)),a.handleRemoveTag=a.handleRemoveTag.bind(Object(c.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.match.params.id;f.get("/notes/".concat(t),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){e.setState(function(){return{note:t.data}})})}},{key:"handleRemoveTag",value:function(e){var t=this,a=this.props.match.params.id;f.delete("/notes/removeTag?noteId=".concat(a,"&tagId=").concat(e._id),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){console.log(e.data),t.setState(function(){return{note:e.data}})})}},{key:"handleRemove",value:function(e){var t=this,a=this.props.match.params.id;window.confirm("Are You Sure?")&&f.delete("/notes/".concat(a),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(){t.props.history.push("/notes")})}},{key:"render",value:function(){var e=this;return console.log(this.state),u.a.createElement("div",{className:"container col-md-6"},u.a.createElement("h2",null,this.state.note.title),u.a.createElement("p",null,this.state.note.body),u.a.createElement("p",null,this.state.note.category&&this.state.note.category.name),u.a.createElement("h5",{className:"list-group-item"},"tags:",this.state.note.tags&&u.a.createElement("ol",null,this.state.note.tags.map(function(t){return u.a.createElement("li",{key:t._id},t.tag.name,u.a.createElement("button",{onClick:function(){e.handleRemoveTag(t)}},"x"))}))),"/notes/new"!==this.props.location.pathname&&u.a.createElement(u.a.Fragment,null,u.a.createElement(b.b,{className:"btn btn-danger",to:"/notes"},"Back"),u.a.createElement(b.b,{className:"btn btn-primary",to:"/notes/edit/".concat(this.props.match.params.id)},"Edit"),u.a.createElement("button",{className:"btn btn-danger",onClick:this.handleRemove},"Delete")))}}]),t}(u.a.Component),y=a(15),S=a(26),O=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).state={title:"",body:"",category:"",categories:[],tags:[],selectedTags:[]},a.handleChange=a.handleChange.bind(Object(c.a)(a)),a.handleSelect=a.handleSelect.bind(Object(c.a)(a)),a.handleTagSelect=a.handleTagSelect.bind(Object(c.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(c.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){e.persist(),this.setState(function(){return Object(y.a)({},e.target.name,e.target.value)})}},{key:"handleSelect",value:function(e){this.setState(function(){return Object(y.a)({},e.name,e.value)})}},{key:"handleTagSelect",value:function(e){this.setState(function(){return{selectedTags:e}})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={title:this.state.title,body:this.state.body,category:this.state.category,tags:this.state.selectedTags.map(function(e){return{tag:e.value}})};console.log(t),this.props.handleSubmit(t)}},{key:"componentWillReceiveProps",value:function(e){this.setState(function(){return{title:e.note.title,body:e.note.body,category:e.note.category._id,tags:e.note.tags._id}})}},{key:"componentDidMount",value:function(){var e=this;f.get("/categories",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){e.setState(function(){return{categories:t.data}})}),f.get("/tags",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){e.setState(function(){return{tags:t.data}})})}},{key:"render",value:function(){return u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement(S.a,{isSearchable:"true",isClearable:"true",placeholder:"Category",onChange:this.handleSelect,options:this.state.categories.map(function(e){return{value:e._id,label:e.name,name:"category"}})}),u.a.createElement("br",null),u.a.createElement("label",null,u.a.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Title",value:this.state.title,onChange:this.handleChange,name:"title"})),u.a.createElement("br",null),u.a.createElement("label",null,u.a.createElement("textarea",{className:"form-control",placeholder:"Body",value:this.state.body,onChange:this.handleChange,name:"body",rows:"3"})),u.a.createElement("br",null),u.a.createElement(S.a,{isMulti:"true",placeholder:"Tags",isSearchable:"true",isClearable:"true",onChange:this.handleTagSelect,options:this.state.tags.map(function(e){return{value:e._id,label:e.name,name:"tag"}})}),u.a.createElement("br",null),u.a.createElement("center",null,u.a.createElement("input",{className:"btn btn-outline-danger",type:"submit"})))}}]),t}(u.a.Component),j=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(c.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleSubmit",value:function(e){var t=this;f.post("/notes",e,{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){console.log(t.props)}).catch(function(e){alert(e,"errors")})}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(O,{handleSubmit:this.handleSubmit}))}}]),t}(u.a.Component),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).state={note:{}},a.handleSubmit=a.handleSubmit.bind(Object(c.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;f.get("/notes/".concat(t),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){e.setState(function(){return{note:t.data}})})}},{key:"handleSubmit",value:function(e){var t=this;f.put("/notes/".concat(this.state.note._id),e,{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){console.log(e),e.data.hasOwnProperty("errors")?console.log(e.data.errors):t.props.history.push("/notes")})}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("h2",null,"Edit Here"),u.a.createElement(O,{handleSubmit:this.handleSubmit,note:this.state.note}))}}]),t}(u.a.Component),C=a(21),N=a.n(C),x=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).state={name:""},a.handleChange=a.handleChange.bind(Object(c.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(c.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(e){var t=this;console.log(e,"selectCategory"),N.a.isEmpty(this.props.selectCategory)?console.log(this.state):this.setState(function(){return{name:t.props.selectCategory}})}},{key:"handleChange",value:function(e){e.persist(),this.setState(function(){return Object(y.a)({},e.target.name,e.target.value)})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={name:this.state.name};this.props.handleSubmit(t)}},{key:"render",value:function(){return u.a.createElement("div",{className:"container input-group input-group-lg border border-secondary"},u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement("label",null,u.a.createElement("span",{className:"input-group-text"},"Category Name"),u.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,value:this.state.name})),u.a.createElement("br",null),u.a.createElement("input",{className:"btn btn-dark",type:"submit"})))}}]),t}(u.a.Component),w=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(l.a)(this,Object(o.a)(t).call(this))).state={category:[],selectCategory:{}},e.handleRemove=e.handleRemove.bind(Object(c.a)(e)),e.handleEdit=e.handleEdit.bind(Object(c.a)(e)),e}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleSubmit",value:function(e){var t=this;f.put("/category/".concat(this.state.category._id),e,{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){e.data.hasOwnProperty("errors")?console.log(e.data.errors):t.props.history.push("/category")})}},{key:"handleEdit",value:function(e){var t=this;console.log(e);var a=e;f.get("/categories/".concat(a),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){t.setState(function(){return{selectCategory:e.data}})})}},{key:"handleRemove",value:function(e){var t=this,a=e;window.confirm("Are You Sure?")&&f.delete("/categories/".concat(a),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(){t.props.history.push("/category")})}},{key:"componentDidMount",value:function(){var e=this;f.get("/categories",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){e.setState(function(){return{category:t.data}})})}},{key:"render",value:function(){var e=this;return console.log(this.state.selectCategory.category),u.a.createElement("div",{className:"container"},N.a.isEmpty(this.state.selectCategory)?u.a.createElement(u.a.Fragment,null,u.a.createElement("ul",{style:{textTransform:"capitalize"},className:"list-group"},this.state.category.map(function(t){return u.a.createElement("li",{className:"list-group-item col-sm-4",key:t._id},t.name,u.a.createElement(b.b,{className:"btn btn-primary",to:"/category/edit/".concat(t._id)},"+"),u.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.handleRemove(t._id)}},"X"))})),u.a.createElement("br",null)):u.a.createElement(u.a.Fragment,null,u.a.createElement(x,{handleSubmit:this.handleSubmit,selectCategory:this.state.selectCategory})),u.a.createElement(b.b,{className:"btn btn-secondary",to:"/category/new"},"New Categories"))}}]),t}(u.a.Component),A=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(c.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleSubmit",value:function(e){var t=this;f.post("/categories",e,{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){e.data.hasOwnProperty("errors")?console.log(e.data.errors):t.props.history.push("/category")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(x,{handleSubmit:this.handleSubmit}))}}]),t}(u.a.Component),T=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).state={email:"",password:""},a.handleChange=a.handleChange.bind(Object(c.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(c.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){e.persist(),this.setState(function(){return Object(y.a)({},e.target.name,e.target.value)})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={email:this.state.email,password:this.state.password};f.post("/user/login",a).then(function(e){if(e.data.errors)alert(e.data.errors);else{var a=e.data.token;a&&(localStorage.setItem("userAuthToken",a),t.props.handleAuth(!0))}}).catch(function(e){alert("err")})}},{key:"render",value:function(){return u.a.createElement("form",{className:"container",onSubmit:this.handleSubmit},u.a.createElement("h2",{className:"text-dark"},"LOGIN"),u.a.createElement("label",null,u.a.createElement("input",{className:"form-control",type:"text",name:"email",value:this.state.email,onChange:this.handleChange,placeholder:"Email"})),u.a.createElement("br",null),u.a.createElement("label",null,u.a.createElement("input",{className:"form-control",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,placeholder:"Password"})),u.a.createElement("br",null),u.a.createElement("input",{className:"btn btn-success",type:"submit"}),u.a.createElement("br",null))}}]),t}(u.a.Component),I=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(l.a)(this,Object(o.a)(t).call(this))).state={username:"",email:"",password:""},e.handleChange=e.handleChange.bind(Object(c.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(c.a)(e)),e}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){e.persist(),this.setState(function(){return Object(y.a)({},e.target.name,e.target.value)})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,email:this.state.email,password:this.state.password};f.post("/user/register",t).then(function(e){e.data.errors&&alert(e.data.message)}).catch(function(e){alert(e)})}},{key:"render",value:function(){return u.a.createElement("form",{className:"form-group container",onSubmit:this.handleSubmit},u.a.createElement("fieldset",null,u.a.createElement("h2",{className:"text-dark"},"REGISTER"),u.a.createElement("label",null,u.a.createElement("input",{className:"form-control",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,placeholder:"Username"})),u.a.createElement("br",null),u.a.createElement("label",null,u.a.createElement("input",{className:"form-control",type:"text",name:"email",value:this.state.email,onChange:this.handleChange,placeholder:"Email"})),u.a.createElement("br",null),u.a.createElement("label",null,u.a.createElement("input",{className:"form-control",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,placeholder:"Password"})),u.a.createElement("br",null),u.a.createElement("input",{className:"btn btn-dark",type:"submit",value:"Submit"})))}}]),t}(u.a.Component),R=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(l.a)(this,Object(o.a)(t).call(this))).state={user:{},notes:{},category:{},tags:{}},e}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.get("/user/account",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){var a=t.data;e.setState({user:a})}),f.get("/notes",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){var a=t.data;e.setState({notes:a})}),f.get("categories",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){var a=t.data;e.setState({category:a})}),f.get("tags",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){var a=t.data;e.setState({tags:a})})}},{key:"render",value:function(){return u.a.createElement("div",{className:"bg-white"},u.a.createElement("h6",{className:"text-weight-bold"},"User Account"),u.a.createElement("h4",{className:"container bg-white text-dark text-weight-bold text-capitalize"},this.state.user.username,u.a.createElement("p",{className:"container bg-success text-dark text-weight-bold"},"Details"),u.a.createElement("p",{className:"container text-dark text-weight-bold"},"Notes",u.a.createElement("small",{className:"text-muted text-weight-bold"}," - ",this.state.notes.length," ")," "),u.a.createElement("p",{className:"container text-dark text-weight-bold"},"Category",u.a.createElement("small",{className:"text-muted text-weight-bold"}," - ",this.state.category.length," ")),u.a.createElement("p",{className:"container text-dark text-weight-bold"},"Tags",u.a.createElement("small",{className:"text-muted text-weight-bold"}," - ",this.state.tags.length," "))),u.a.createElement(b.b,{className:"btn btn-success",to:"logout"},"Logout"))}}]),t}(u.a.Component),D=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;f.delete("/user/logout",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){localStorage.removeItem("userAuthToken"),e.props.handleAuth(!1),e.props.history.push("/")})}},{key:"render",value:function(){return u.a.createElement("p",null,"logging out..")}}]),t}(u.a.Component),_=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).handleAuth=function(e){a.setState({isAuthenticated:e})},a.handleShowAuth=function(e){return u.a.createElement("div",null,a.state.isAuthenticated&&u.a.createElement("div",{className:"container"},u.a.createElement(d.a,{trigger:u.a.createElement(b.b,{className:"btn btn-success",to:"/account"},"Account"),position:"left top",on:"hover"},u.a.createElement(R,null))),!a.state.isAuthenticated&&u.a.createElement("div",{className:"container"},u.a.createElement(d.a,{trigger:u.a.createElement(b.b,{className:"btn btn-success",to:"/login"},"Login"),position:"left top",on:"hover"},u.a.createElement("div",null,u.a.createElement(T,{handleAuth:a.handleAuth}))),u.a.createElement("br",null),u.a.createElement(d.a,{trigger:u.a.createElement(b.b,{className:"btn btn-success",to:"/register"},"Register"),position:"left top",on:"hover"},u.a.createElement("div",null,u.a.createElement(I,null)))))},a.state={isAuthenticated:!1},a.handleAuth=a.handleAuth.bind(Object(c.a)(a)),a.handleShowAuth=a.handleShowAuth.bind(Object(c.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("userAuthToken")&&this.setState({isAuthenticated:!0})}},{key:"render",value:function(){var e=this;return u.a.createElement(b.a,null,u.a.createElement("div",null,u.a.createElement("h1",{className:"navbar font-italic font-weight-bold shadow-lg p-3 mb-5 rounded"},u.a.createElement(b.b,{className:"text-dark",to:"/"},"My Notes App"),this.handleShowAuth()),u.a.createElement(g.c,null,this.state.isAuthenticated&&u.a.createElement("div",{className:"container"},u.a.createElement("div",{className:"container"},u.a.createElement(d.a,{trigger:u.a.createElement(b.b,{className:" btn btn-primary btn-lg  col-md-4",to:"/notes/new"},u.a.createElement("h3",null," New Notes")),position:"right top",on:"click"},u.a.createElement("div",null,u.a.createElement(j,null))),u.a.createElement(b.b,{style:{marginLeft:10},className:" btn btn-secondary btn-lg  col-md-4",to:"/category"},u.a.createElement("h3",null,"List Category")),u.a.createElement(E,null)),u.a.createElement(u.a.Fragment,null,u.a.createElement(g.a,{path:"/logout",render:function(t){return u.a.createElement(D,Object.assign({},t,{handleAuth:e.handleAuth}))}}),u.a.createElement(g.a,{path:"/notes",exact:!0}),u.a.createElement(g.a,{path:"/notes/edit/:id",exact:!0,component:k}),u.a.createElement(g.a,{path:"/notes/:id",component:v}),u.a.createElement(g.a,{path:"/category",component:w,exact:!0}),u.a.createElement(g.a,{path:"/category/new",component:A}),u.a.createElement(g.a,{path:"/category/edit/:id",render:function(e){return u.a.createElement(x,Object.assign({},e,{selectedCategory:"hello"}))},exact:!0}))),u.a.createElement(g.a,{render:function(){return u.a.createElement("h2",null,"path not exist")},exact:!0}))))}}]),t}(u.a.Component);m.a.render(u.a.createElement(_,null),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.39da3dea.chunk.js.map