(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,a){e.exports=a(68)},68:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(2),l=a(3),o=a(5),c=a(4),s=a(1),i=a(6),u=a(0),h=a.n(u),m=a(15),d=a.n(m),b=a(38),g=a.n(b).a.create({baseURL:"/"}),p=a(19),f=a(7),E=a(16),v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={note:{}},a.handleRemove=a.handleRemove.bind(Object(s.a)(a)),a.handleRemoveTag=a.handleRemoveTag.bind(Object(s.a)(a)),a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.match.params.id;g.get("/notes/".concat(a),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){t.setState(function(){return{note:e.data}})})}},{key:"handleRemoveTag",value:function(e){var t=this,a=this.props.match.params.id;g.delete("/notes/removeTag?noteId=".concat(a,"&tagId=").concat(e._id),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){console.log(e.data),t.setState(function(){return{note:e.data}})})}},{key:"handleRemove",value:function(e){var t=this,a=this.props.match.params.id;window.confirm("Are You Sure?")&&g.delete("/notes/".concat(a),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(){t.props.history.push("/notes")})}},{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:"container col-md-6"},h.a.createElement("h2",null,this.state.note.title),h.a.createElement("p",null,this.state.note.body),h.a.createElement("p",null,this.state.note.category&&this.state.note.category.name),"/notes/new"!==this.props.location.pathname&&h.a.createElement(h.a.Fragment,null,h.a.createElement("h5",{className:"list-group-item"},"tags:",this.state.note.tags&&h.a.createElement("ol",null,this.state.note.tags.map(function(t){return h.a.createElement("li",{key:t._id},t.tag.name,h.a.createElement("button",{onClick:function(){e.handleRemoveTag(t)}},"x"))}))),h.a.createElement(f.b,{className:"btn btn-danger",to:"/notes"},"Back"),h.a.createElement(f.b,{className:"btn btn-primary",to:"/notes/edit/".concat(this.props.match.params.id)},"Edit"),h.a.createElement("button",{className:"btn btn-danger",onClick:this.handleRemove},"Delete")))}}]),t}(h.a.Component),y=a(26),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={title:"",body:"",category:"",categories:[],tags:[],selectedTags:[]},a.handleChange=a.handleChange.bind(Object(s.a)(a)),a.handleSelect=a.handleSelect.bind(Object(s.a)(a)),a.handleTagSelect=a.handleTagSelect.bind(Object(s.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){e.persist(),this.setState(function(){return Object(n.a)({},e.target.name,e.target.value)})}},{key:"handleSelect",value:function(e){this.setState(function(){return Object(n.a)({},e.name,e.value)})}},{key:"handleTagSelect",value:function(e){this.setState(function(){return{selectedTags:e}})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={title:this.state.title,body:this.state.body,category:this.state.category,tags:this.state.selectedTags.map(function(e){return{tag:e.value}})};console.log(t),this.props.handleSubmit(t)}},{key:"componentWillReceiveProps",value:function(e){this.setState(function(){return{title:e.note.title,body:e.note.body,category:e.note.category._id,tags:e.note.tags._id}})}},{key:"componentDidMount",value:function(){var e=this;g.get("/categories",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){e.setState(function(){return{categories:t.data}})}),g.get("/tags",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){e.setState(function(){return{tags:t.data}})})}},{key:"render",value:function(){return h.a.createElement("form",{onSubmit:this.handleSubmit},h.a.createElement(y.a,{isSearchable:"true",isClearable:"true",placeholder:"Category",onChange:this.handleSelect,options:this.state.categories.map(function(e){return{value:e._id,label:e.name,name:"category"}})}),h.a.createElement("br",null),h.a.createElement("label",null,h.a.createElement("input",{className:"form-control form-control-lg",type:"text",placeholder:"Title",value:this.state.title,onChange:this.handleChange,name:"title"})),h.a.createElement("br",null),h.a.createElement("label",null,h.a.createElement("textarea",{className:"form-control",placeholder:"Body",value:this.state.body,onChange:this.handleChange,name:"body",rows:"3"})),h.a.createElement("br",null),h.a.createElement(y.a,{isMulti:"true",placeholder:"Tags",isSearchable:"true",isClearable:"true",onChange:this.handleTagSelect,options:this.state.tags.map(function(e){return{value:e._id,label:e.name,name:"tag"}})}),h.a.createElement("br",null),h.a.createElement("center",null,h.a.createElement("input",{className:"btn btn-outline-danger",type:"submit"})))}}]),t}(h.a.Component),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){var t=this;g.post("/notes",e,{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){e.data.hasOwnProperty("errors")?(console.log(e.data.errors),t.setState(function(){return{serverErrors:e.data.errors}})):(console.log(e.data),t.props.history.push("/notes/".concat(e.data._id)))}).catch(function(e){alert(e,"errors")})}},{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement(S,{handleSubmit:this.handleSubmit}))}}]),t}(h.a.Component),j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={note:{}},a.handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;g.get("/notes/".concat(t),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){e.setState(function(){return{note:t.data}})})}},{key:"handleSubmit",value:function(e){var t=this;g.put("/notes/".concat(this.state.note._id),e,{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){console.log(e),e.data.hasOwnProperty("errors")?console.log(e.data.errors):t.props.history.push("/notes")})}},{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement("h2",null,"Edit Here"),h.a.createElement(S,{handleSubmit:this.handleSubmit,note:this.state.note}))}}]),t}(h.a.Component),k=a(21),C=a.n(k),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={name:""},a.handleChange=a.handleChange.bind(Object(s.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(e){var t=this;console.log(e,"selectCategory"),C.a.isEmpty(this.props.selectCategory)?console.log(this.state):this.setState(function(){return{name:t.props.selectCategory}})}},{key:"handleChange",value:function(e){e.persist(),this.setState(function(){return Object(n.a)({},e.target.name,e.target.value)})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={name:this.state.name};this.props.handleSubmit(t)}},{key:"render",value:function(){return h.a.createElement("div",{className:"container input-group input-group-lg border border-secondary"},h.a.createElement("form",{onSubmit:this.handleSubmit},h.a.createElement("label",null,h.a.createElement("span",{className:"input-group-text"},"Category Name"),h.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,value:this.state.name})),h.a.createElement("br",null),h.a.createElement("input",{className:"btn btn-dark",type:"submit"})))}}]),t}(h.a.Component),N=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).state={category:[],selectCategory:{}},e.handleRemove=e.handleRemove.bind(Object(s.a)(e)),e.handleEdit=e.handleEdit.bind(Object(s.a)(e)),e}return Object(i.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){var t=this;g.put("/category/".concat(this.state.category._id),e,{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){e.data.hasOwnProperty("errors")?console.log(e.data.errors):t.props.history.push("/category")})}},{key:"handleEdit",value:function(e){var t=this;console.log(e);var a=e;g.get("/categories/".concat(a),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){t.setState(function(){return{selectCategory:e.data}})})}},{key:"handleRemove",value:function(e){var t=this,a=e;window.confirm("Are You Sure?")&&g.delete("/categories/".concat(a),{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(){t.props.history.push("/category")})}},{key:"componentDidMount",value:function(){var e=this;g.get("/categories",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){e.setState(function(){return{category:t.data}})})}},{key:"render",value:function(){var e=this;return console.log(this.state.selectCategory.category),h.a.createElement("div",{className:"container"},C.a.isEmpty(this.state.selectCategory)?h.a.createElement(h.a.Fragment,null,h.a.createElement("ul",{style:{textTransform:"capitalize"},className:"list-group"},this.state.category.map(function(t){return h.a.createElement("li",{className:"list-group-item col-sm-4",key:t._id},t.name,h.a.createElement(f.b,{className:"btn btn-primary",to:"/category/edit/".concat(t._id)},"+"),h.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e.handleRemove(t._id)}},"X"))})),h.a.createElement("br",null)):h.a.createElement(h.a.Fragment,null,h.a.createElement(x,{handleSubmit:this.handleSubmit,selectCategory:this.state.selectCategory})),h.a.createElement(f.b,{className:"btn btn-secondary",to:"/category/new"},"New Categories"))}}]),t}(h.a.Component),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){var t=this;g.post("/categories",e,{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(e){e.data.hasOwnProperty("errors")?console.log(e.data.errors):t.props.history.push("/category")}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return h.a.createElement("div",null,h.a.createElement(x,{handleSubmit:this.handleSubmit}))}}]),t}(h.a.Component),A=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={email:"",password:""},a.handleChange=a.handleChange.bind(Object(s.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(s.a)(a)),a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){e.persist(),this.setState(function(){return Object(n.a)({},e.target.name,e.target.value)})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={email:this.state.email,password:this.state.password};g.post("/user/login",a).then(function(e){if(e.data.errors)alert(e.data.errors);else{var a=e.data.token;a&&(localStorage.setItem("userAuthToken",a),t.props.handleAuth(!0))}}).catch(function(e){alert("err")})}},{key:"render",value:function(){return h.a.createElement("form",{className:"container",onSubmit:this.handleSubmit},h.a.createElement("h2",{className:"text-dark"},"LOGIN"),h.a.createElement("label",null,h.a.createElement("input",{className:"form-control",type:"text",name:"email",value:this.state.email,onChange:this.handleChange,placeholder:"Email"})),h.a.createElement("br",null),h.a.createElement("label",null,h.a.createElement("input",{className:"form-control",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,placeholder:"Password"})),h.a.createElement("br",null),h.a.createElement("input",{className:"btn btn-success",type:"submit"}),h.a.createElement("br",null))}}]),t}(h.a.Component),T=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).state={username:"",email:"",password:""},e.handleChange=e.handleChange.bind(Object(s.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(s.a)(e)),e}return Object(i.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){e.persist(),this.setState(function(){return Object(n.a)({},e.target.name,e.target.value)})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={username:this.state.username,email:this.state.email,password:this.state.password};g.post("/user/register",t).then(function(e){e.data.errors&&alert(e.data.message)}).catch(function(e){alert(e)})}},{key:"render",value:function(){return h.a.createElement("form",{className:"form-group container",onSubmit:this.handleSubmit},h.a.createElement("fieldset",null,h.a.createElement("h2",{className:"text-dark"},"REGISTER"),h.a.createElement("label",null,h.a.createElement("input",{className:"form-control",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,placeholder:"Username"})),h.a.createElement("br",null),h.a.createElement("label",null,h.a.createElement("input",{className:"form-control",type:"text",name:"email",value:this.state.email,onChange:this.handleChange,placeholder:"Email"})),h.a.createElement("br",null),h.a.createElement("label",null,h.a.createElement("input",{className:"form-control",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,placeholder:"Password"})),h.a.createElement("br",null),h.a.createElement("input",{className:"btn btn-dark",type:"submit",value:"Submit"})))}}]),t}(h.a.Component),I=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this))).state={user:{},notes:{},category:{},tags:{}},e}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.get("/user/account",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){var a=t.data;e.setState({user:a})}),g.get("/notes",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){var a=t.data;e.setState({notes:a})}),g.get("categories",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){var a=t.data;e.setState({category:a})}),g.get("tags",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){var a=t.data;e.setState({tags:a})})}},{key:"render",value:function(){return h.a.createElement("div",{className:"bg-white"},h.a.createElement("h6",{className:"text-weight-bold"},"User Account"),h.a.createElement("h4",{className:"container bg-white text-dark text-weight-bold text-capitalize"},this.state.user.username,h.a.createElement("p",{className:"container bg-success text-dark text-weight-bold"},"Details"),h.a.createElement("p",{className:"container text-dark text-weight-bold"},"Notes",h.a.createElement("small",{className:"text-muted text-weight-bold"}," - ",this.state.notes.length," ")," "),h.a.createElement("p",{className:"container text-dark text-weight-bold"},"Category",h.a.createElement("small",{className:"text-muted text-weight-bold"}," - ",this.state.category.length," ")),h.a.createElement("p",{className:"container text-dark text-weight-bold"},"Tags",h.a.createElement("small",{className:"text-muted text-weight-bold"}," - ",this.state.tags.length," "))),h.a.createElement(f.b,{className:"btn btn-success",to:"logout"},"Logout"))}}]),t}(h.a.Component),R=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.delete("/user/logout",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){localStorage.removeItem("userAuthToken"),e.props.handleAuth(!1),e.props.history.push("/")})}},{key:"render",value:function(){return h.a.createElement("p",null,"logging out..")}}]),t}(h.a.Component),D=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).handleAuth=function(e){a.setState({isAuthenticated:e})},a.handleShowAuth=function(){return h.a.createElement("div",null,a.state.isAuthenticated&&h.a.createElement("div",{className:"container"},h.a.createElement(p.a,{trigger:h.a.createElement(f.b,{className:"btn btn-success",to:"/account"},"Account"),position:"left top",on:"hover"},h.a.createElement(I,null))),!a.state.isAuthenticated&&h.a.createElement("div",{className:"container"},h.a.createElement(p.a,{trigger:h.a.createElement(f.b,{className:"btn btn-success",to:"/login"},"Login"),position:"left top",on:"hover"},h.a.createElement("div",null,h.a.createElement(A,{handleAuth:a.handleAuth}))),h.a.createElement("br",null),h.a.createElement(p.a,{trigger:h.a.createElement(f.b,{className:"btn btn-success",to:"/register"},"Register"),position:"left top",on:"hover"},h.a.createElement("div",null,h.a.createElement(T,null)))))},a.state={isAuthenticated:!1,notes:[]},a.handleAuth=a.handleAuth.bind(Object(s.a)(a)),a.handleShowAuth=a.handleShowAuth.bind(Object(s.a)(a)),a}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem("userAuthToken")&&this.setState({isAuthenticated:!0}),g.get("/notes",{headers:{"x-auth":localStorage.getItem("userAuthToken")}}).then(function(t){console.log(t),e.setState(function(){return{notes:t.data}})})}},{key:"render",value:function(){var e=this;return h.a.createElement(f.a,null,h.a.createElement("div",null,h.a.createElement("h1",{className:"navbar font-italic font-weight-bold shadow-lg p-3 mb-5 rounded"},h.a.createElement(f.b,{className:"text-dark",to:"/"},"My Notes App"),this.handleShowAuth()),h.a.createElement(E.c,null,this.state.isAuthenticated&&h.a.createElement("div",{className:"container"},h.a.createElement("div",{className:"container"},h.a.createElement(p.a,{trigger:h.a.createElement(f.b,{className:" btn btn-primary btn-lg  col-md-4",to:"/notes/new"},h.a.createElement("h3",null," New Notes")),position:"right top",on:"click"},h.a.createElement("div",null,h.a.createElement(O,null))),h.a.createElement(f.b,{style:{marginLeft:10},className:" btn btn-secondary btn-lg  col-md-4",to:"/category"},h.a.createElement("h3",null,"List Category")),h.a.createElement("ul",null,this.state.notes.map(function(e){return h.a.createElement("li",{key:e._id},h.a.createElement(f.b,{to:"/notes/".concat(e._id)},h.a.createElement("h3",null,e.title)))}))),h.a.createElement(h.a.Fragment,null,h.a.createElement(E.a,{path:"/logout",render:function(t){return h.a.createElement(R,Object.assign({},t,{handleAuth:e.handleAuth}))}}),h.a.createElement(E.a,{path:"/notes/new",exact:!0,strict:!0}),h.a.createElement(E.a,{path:"/notes",exact:!0}),h.a.createElement(E.a,{path:"/notes/edit/:id",exact:!0,component:j}),h.a.createElement(E.a,Object(n.a)({path:"/notes/:id",exact:!0,strict:!0,render:function(t){return h.a.createElement(v,Object.assign({},t,{handleAuth:e.handleAuth}))}},"exact",!0)),h.a.createElement(E.a,{path:"/category",component:N,exact:!0}),h.a.createElement(E.a,{path:"/category/new",component:w}),h.a.createElement(E.a,{path:"/category/edit/:id",render:function(e){return h.a.createElement(x,Object.assign({},e,{selectedCategory:"hello"}))},exact:!0}))))))}}]),t}(h.a.Component);d.a.render(h.a.createElement(D,null),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.56226b56.chunk.js.map